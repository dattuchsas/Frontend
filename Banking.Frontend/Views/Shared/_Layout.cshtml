@using Microsoft.AspNetCore.Http
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor httpContextAccessor
@{
    ISession session = httpContextAccessor.HttpContext?.Session ?? null!;
    string background = session.GetString("background") ?? string.Empty;
    string header = session.GetString("header") ?? string.Empty;
    string textColor = session.GetString("textColor") ?? string.Empty;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FinXPro - @ViewData["Title"]</title>
    <link asp-append-version="true" rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link asp-append-version="true" rel="stylesheet" href="~/css/dashboard.css" />
</head>
<body>
    <div class="main-container">
        <nav id="sidebar">
            <ul>
                <li>
                    <span class="logo">FinXPro</span>
                    <button onclick=toggleSidebar() id="toggle-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                            <path d="m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z" />
                        </svg>
                    </button>
                </li>
                <li>
                    <a href="index.html">
                        <img src="images/home-icon.svg">
                        <span>Home</span>
                    </a>
                </li>
                <li>
                    <a asp-controller="Dashboard" asp-action="Index">
                        <img src="images/dashboard-icon.svg">
                        <span>Modules</span>
                    </a>
                </li>
                <li>
                    <button onclick=toggleSubMenu(this) class="dropdown-btn">
                        <img src="images/list-check.svg">
                        <span>Reports</span>
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed">
                            <path d="M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z" />
                        </svg>
                    </button>
                    <ul class="sub-menu">
                        <li><a href="#">Report</a></li>
                        <li><a href="#">Report</a></li>
                        <li><a href="#">Report</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <img src="images/account-icon.svg">
                        <span>@session.GetString("Username")</span>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <img src="images/signout-icon.svg">
                        <span>Signout</span>
                    </a>
                </li>
            </ul>
        </nav>
        <main>
            <div class="main-nav sticky-top">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-12">
                            <div class="d-flex align-items-center">
                                <div>
                                    <button onclick=toggleSidebar() id="toggle-btn" class="d-lg-none p-2 me-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                                             fill="#e8eaed">
                                            <path d="m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z" />
                                        </svg>
                                    </button>
                                </div>
                                <div> <img src="images/bankLogo.jpg" class="logo img-fluid"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-area">
                <div class="cards-container">
                    @RenderBody()
                </div>
            </div>
        </main>
    </div>
    <script src="~/js/dashboard.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js"
            integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y"
            crossorigin="anonymous"></script>
</body>
</html>
